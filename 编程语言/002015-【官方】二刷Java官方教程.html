

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>【官方】二刷Java官方教程 &mdash; 测试开发体系 latest documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/js/readmore.js"></script>
        <script src="../_static/js/baidutongji.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="【库】fastjson知多少" href="003001-%E3%80%90%E5%BA%93%E3%80%91fastjson%E7%9F%A5%E5%A4%9A%E5%B0%91.html" />
    <link rel="prev" title="【官方】Java官方笔记14流" href="002014-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B014%E6%B5%81.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> 测试开发体系
          

          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../%E5%85%B3%E4%BA%8E%E6%9C%AC%E4%B9%A6.html">关于本书</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../chapters/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80.html">编程语言</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="000001-%E3%80%90%E5%85%A5%E9%97%A8%E3%80%91%E6%B5%8B%E8%AF%95%E4%BA%BA%E5%91%98%E5%AD%A6Java%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97.html">【入门】测试人员学Java入门指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="001001-%E3%80%90%E8%BF%9B%E9%98%B6%E3%80%91Java%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B%E7%B2%BE%E5%8D%8E%E7%AC%94%E8%AE%B0.html">【进阶】Java高级编程精华笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="001002-%E3%80%90%E8%BF%9B%E9%98%B6%E3%80%91%E5%88%B7%E5%AE%8C3%E4%B8%AAJava%E6%95%99%E7%A8%8B%E5%90%8E%E4%B8%8D%E5%86%8D%E7%8A%B9%E8%B1%AB.html">【进阶】刷完3个Java教程后不再犹豫</a></li>
<li class="toctree-l2"><a class="reference internal" href="002001-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B01%E7%BC%96%E5%86%99%E8%BF%90%E8%A1%8CJava%E7%A8%8B%E5%BA%8F.html">【官方】Java官方笔记1编写运行Java程序</a></li>
<li class="toctree-l2"><a class="reference internal" href="002002-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B02%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html">【官方】Java官方笔记2面向对象编程基本概念</a></li>
<li class="toctree-l2"><a class="reference internal" href="002003-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B03Java%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80.html">【官方】Java官方笔记3Java语言基础</a></li>
<li class="toctree-l2"><a class="reference internal" href="002004-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B04%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1.html">【官方】Java官方笔记4类和对象</a></li>
<li class="toctree-l2"><a class="reference internal" href="002005-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B05%E6%95%B0%E5%AD%97%E5%92%8C%E5%AD%97%E7%AC%A6%E4%B8%B2.html">【官方】Java官方笔记5数字和字符串</a></li>
<li class="toctree-l2"><a class="reference internal" href="002006-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B06%E7%BB%A7%E6%89%BF.html">【官方】Java官方笔记6继承</a></li>
<li class="toctree-l2"><a class="reference internal" href="002007-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B07%E6%8E%A5%E5%8F%A3.html">【官方】Java官方笔记7接口</a></li>
<li class="toctree-l2"><a class="reference internal" href="002008-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B08%E6%B3%9B%E5%9E%8B.html">【官方】Java官方笔记8泛型</a></li>
<li class="toctree-l2"><a class="reference internal" href="002009-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B09Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F.html">【官方】Java官方笔记9Lambda表达式</a></li>
<li class="toctree-l2"><a class="reference internal" href="002010-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B010%E6%B3%A8%E8%A7%A3.html">【官方】Java官方笔记10注解</a></li>
<li class="toctree-l2"><a class="reference internal" href="002011-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B011%E5%8C%85.html">【官方】Java官方笔记11包</a></li>
<li class="toctree-l2"><a class="reference internal" href="002012-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B012%E5%BC%82%E5%B8%B8.html">【官方】Java官方笔记12异常</a></li>
<li class="toctree-l2"><a class="reference internal" href="002013-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B013%E9%9B%86%E5%90%88.html">【官方】Java官方笔记13集合</a></li>
<li class="toctree-l2"><a class="reference internal" href="002014-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B014%E6%B5%81.html">【官方】Java官方笔记14流</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">【官方】二刷Java官方教程</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#running-your-first-java-application">Running Your First Java Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="#staying-aware-of-new-features">Staying Aware of New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting-to-know-the-language">Getting to Know the Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mastering-the-api">Mastering the API</a></li>
<li class="toctree-l3"><a class="reference internal" href="#organizing-your-application">Organizing your Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting-to-know-the-jvm">Getting to know the JVM</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="003001-%E3%80%90%E5%BA%93%E3%80%91fastjson%E7%9F%A5%E5%A4%9A%E5%B0%91.html">【库】fastjson知多少</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91.html">后端开发</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html">设计模式</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7.html">测试工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6.html">测试框架</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95.html">性能测试</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83.html">测试环境</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95.html">单元测试</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95.html">白盒测试</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95.html">接口测试</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E7%95%8C%E9%9D%A2%E6%B5%8B%E8%AF%95.html">界面测试</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A.html">测试报告</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6.html">开发框架</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html">消息队列</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E7%AE%97%E6%B3%95%E6%8C%91%E6%88%98.html">算法挑战</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E6%8A%80%E6%9C%AF%E7%9F%A5%E8%AF%86.html">技术知识</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E6%9B%B4%E5%A4%9A%E8%AF%AD%E8%A8%80.html">更多语言</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E5%8E%86%E5%8F%B2%E6%9D%82%E6%96%87.html">历史杂文</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.html">读书笔记</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%B0%8A%E4%BA%AB%E6%9C%8D%E5%8A%A1.html">尊享服务</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">测试开发体系</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../chapters/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80.html">编程语言</a> &raquo;</li>
        
      <li>【官方】二刷Java官方教程</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/编程语言/002015-【官方】二刷Java官方教程.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="java">
<h1>【官方】二刷Java官方教程<a class="headerlink" href="#java" title="Permalink to this headline">¶</a></h1>
<p><img alt="image1" src="../_images/wanggang16.png" /></p>
<p>第二次阅读Java官方教程，有些不一样的理解。内容比较散乱，个人意识流笔记。</p>
<p>学习开始时间：2023年12月1日</p>
<p>学习结束时间：2024年4月3日</p>
<div class="section" id="running-your-first-java-application">
<h2>Running Your First Java Application<a class="headerlink" href="#running-your-first-java-application" title="Permalink to this headline">¶</a></h2>
<p>Java works in a way that differs from C or C++.</p>
<blockquote>
<div><p>这里是想说Java有JVM吧</p>
</div></blockquote>
<p>compiler：Some languages do not have a compiler; Java does. Every
compiler is specific to a language.</p>
<p>知道Java代码需要编译成<code class="docutils literal notranslate"><span class="pre">.class</span></code>文件就行了。<code class="docutils literal notranslate"><span class="pre">.class</span></code>文件是可执行的。</p>
<p>编译和执行，需要软件支持，这个软件叫做，JDK。</p>
<blockquote>
<div><p>从Java11开始，单个文件，可以直接执行<code class="docutils literal notranslate"><span class="pre">.java</span></code>文件，JDK内部自己编译</p>
</div></blockquote>
<p>A Java class must be saved in a file that has the same name as your
class with the extension <code class="docutils literal notranslate"><span class="pre">.java</span></code>. This is mandatory and is in fact
very convenient because you do not need to open a file to know what
class is written in it.</p>
<p>As of now, downloading “Java” means downloading the Java Development
Kit, also known as the JDK. The JDK contains many tools and among them
are the ones you will be using to compile and run a Java application. It
is officially distributed by the OpenJDK project and by Oracle.</p>
<blockquote>
<div><p>JDK有2个主流版本，OpenJDK和OracleJDK</p>
</div></blockquote>
<p>The JRE stands for Java Runtime Environment. It is a subset of the JDK
that is not distributed by the OpenJDK or Oracle anymore. It only
contained the tools needed to run a Java application. You cannot compile
your code with the tools provided in the JRE.</p>
<p>不用手动安装JRE！JRE是JDK子集，不能编译，只能运行Java程序。JRE包括Java虚拟机（JVM）、类库等。从Java
11版本开始，OpenJDK和Oracle只提供JDK的发行版，不再单独分发JRE。如果你需要JRE来运行Java程序，你需要先安装JDK，然后从JDK中提取JRE。现在只需要安装JDK就可以。</p>
<p><a class="reference external" href="https://jdk.java.net/">https://jdk.java.net/</a></p>
<p>环境变量，JAVA_HOME、PATH（bin），这样就能使用java、javac等命令了。</p>
<p><code class="docutils literal notranslate"><span class="pre">javac</span> <span class="pre">文件名.java</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">java</span> <span class="pre">类名</span></code>（不能加上.class，否则报错：Could not find or load main
class HelloWorldApp.class）</p>
<p>编译文件，运行类。</p>
<p>CLASSPATH，找不到类时要设置。the directories and archives that are
searched to locate class files.</p>
</div>
<div class="section" id="staying-aware-of-new-features">
<h2>Staying Aware of New Features<a class="headerlink" href="#staying-aware-of-new-features" title="Permalink to this headline">¶</a></h2>
<p>Java 8, released in 2014, brought Lambda expressions to the Java
platform as well as the Stream API, Optional class, and a host of other
great features. This is one of the reasons why Java 8 became the most
popular version in Java’s history. Even today, it remains one of the
most widely used versions of Java.</p>
<blockquote>
<div><p>毕业那年Java8才出来</p>
</div></blockquote>
<p>Java8到Java9花了3年，从Java9开始每6个月1个版本，到2023年都出到JDK21了。</p>
</div>
<div class="section" id="getting-to-know-the-language">
<h2>Getting to Know the Language<a class="headerlink" href="#getting-to-know-the-language" title="Permalink to this headline">¶</a></h2>
<p>In the Java programming language, each class is allowed to have <em>one</em>
direct superclass, and each superclass has the potential for an
unlimited number of subclasses.</p>
<p>In its most common form, an interface is a group of related methods with
empty bodies.</p>
<blockquote>
<div><p>接口没有方法体</p>
</div></blockquote>
<p>类必须实现接口中所有方法，缺一不可。</p>
<p>The Java Platform API Specification contains the complete listing for
all packages, interfaces, classes, fields, and methods supplied by the
Java SE platform.</p>
<p>类变量在Java中通过static来定义，static还是挺形象，静态不变的，相反那些动态的是实例变量，不同实例不一样。</p>
<p>The Java programming language is <strong>statically-typed</strong>, which means that
all variables must first be declared before they can be used.</p>
<p>The compiler will assign a reasonable default value for fields; for
local variables, a default value is never
assigned.最好不要依赖变量默认值，而是编码时显示指出默认值，不管是field还是variable。</p>
<p>从JDK10开始可以使用var关键字来定义变量，省略指定类型，编译器能自动识别：</p>
<p><img alt="image2" src="../_images/4744a334033e1c150c7ffe0036e179d551ec3bfe.png" /></p>
<p>There are restrictions on the use of the <code class="docutils literal notranslate"><span class="pre">var</span></code> type identifier.</p>
<ol class="arabic simple">
<li><p>You can only use it for <em>local variables</em> declared in methods,
constructors and initializer blocks.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">var</span></code> cannot be used for fields, not for method or constructor
parameters.</p></li>
<li><p>The compiler must be able to choose a type when the variable is
declared. Since <code class="docutils literal notranslate"><span class="pre">null</span></code> has no type, the variable must have an
initializer.</p></li>
</ol>
<p>也就是说，var只能用在局部变量，并且必须初始化。</p>
<p><img alt="image3" src="../_images/42fc83f7df98bb877b2e6e2f777b535e258da122.png" /></p>
<p>When using the <code class="docutils literal notranslate"><span class="pre">instanceof</span></code> operator, keep in mind that <code class="docutils literal notranslate"><span class="pre">null</span></code> is
not an instance of anything.</p>
<p>We recommend using the <em>enhanced for</em> statement instead of the general
form whenever possible.</p>
<p>按照标签break：</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">BreakWithLabelDemo</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span><span class="o">[][]</span> <span class="n">arrayOfInts</span> <span class="o">=</span> <span class="p">{</span>
                <span class="p">{</span><span class="mi">32</span><span class="p">,</span> <span class="mi">87</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">589</span><span class="p">},</span>
                <span class="p">{</span><span class="mi">12</span><span class="p">,</span> <span class="mi">1076</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">8</span><span class="p">},</span>
                <span class="p">{</span><span class="mi">622</span><span class="p">,</span> <span class="mi">127</span><span class="p">,</span> <span class="mi">77</span><span class="p">,</span> <span class="mi">955</span><span class="p">}</span>
        <span class="p">};</span>
        <span class="kt">int</span> <span class="n">searchfor</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>

        <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="kt">boolean</span> <span class="n">foundIt</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

<span class="nl">        search:</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">arrayOfInts</span><span class="p">.</span><span class="na">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">arrayOfInts</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="na">length</span><span class="p">;</span>
                 <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">arrayOfInts</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">==</span> <span class="n">searchfor</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">foundIt</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="k">break</span> <span class="n">search</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">foundIt</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Found &quot;</span> <span class="o">+</span> <span class="n">searchfor</span> <span class="o">+</span> <span class="s">&quot; at &quot;</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="s">&quot;, &quot;</span> <span class="o">+</span> <span class="n">j</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">searchfor</span> <span class="o">+</span> <span class="s">&quot; not in the array&quot;</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">break</span> <span class="pre">search</span></code>会中断for循环，执行search标签后面的语句，也就是后面的<code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">(foundIt)</span></code>语句。</p>
<p>也可以按标签continue：</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">ContinueWithLabelDemo</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">String</span> <span class="n">searchMe</span> <span class="o">=</span> <span class="s">&quot;Look for a substring in me&quot;</span><span class="p">;</span>
        <span class="n">String</span> <span class="n">substring</span> <span class="o">=</span> <span class="s">&quot;sub&quot;</span><span class="p">;</span>
        <span class="kt">boolean</span> <span class="n">foundIt</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

        <span class="kt">int</span> <span class="n">max</span> <span class="o">=</span> <span class="n">searchMe</span><span class="p">.</span><span class="na">length</span><span class="p">()</span> <span class="o">-</span>
                <span class="n">substring</span><span class="p">.</span><span class="na">length</span><span class="p">();</span>

<span class="nl">        test:</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">max</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">substring</span><span class="p">.</span><span class="na">length</span><span class="p">();</span>
            <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">n</span><span class="o">--</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">searchMe</span><span class="p">.</span><span class="na">charAt</span><span class="p">(</span><span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="o">!=</span> <span class="n">substring</span><span class="p">.</span><span class="na">charAt</span><span class="p">(</span><span class="n">k</span><span class="o">++</span><span class="p">))</span> <span class="p">{</span>
                    <span class="k">continue</span> <span class="n">test</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="n">foundIt</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="k">break</span> <span class="n">test</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">foundIt</span> <span class="o">?</span> <span class="s">&quot;Found it&quot;</span> <span class="p">:</span> <span class="s">&quot;Didn&#39;t find it&quot;</span><span class="p">);</span>
            <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">continue</span> <span class="pre">test</span></code>会跳过for循环，而不是while循环。</p>
<p>按标签break/continue可以在多层嵌套中使用，以中断/跳过外部循环，不然就得加flag变量，在外层循环加if语句。</p>
<p>switch语句中的yield：</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Test</span> <span class="p">{</span>
    <span class="kd">enum</span> <span class="n">Day</span> <span class="p">{</span>
        <span class="n">MONDAY</span><span class="p">,</span> <span class="n">TUESDAY</span><span class="p">,</span> <span class="n">WEDNESDAY</span><span class="p">,</span> <span class="n">THURSDAY</span><span class="p">,</span> <span class="n">FRIDAY</span><span class="p">,</span> <span class="n">SATURDAY</span><span class="p">,</span> <span class="n">SUNDAY</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">calculate</span><span class="p">(</span><span class="n">Day</span> <span class="n">d</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">switch</span> <span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">case</span> <span class="n">SATURDAY</span><span class="p">,</span> <span class="n">SUNDAY</span> <span class="o">-&gt;</span> <span class="s">&quot;week-end&quot;</span><span class="p">;</span>
                <span class="k">default</span> <span class="o">-&gt;</span> <span class="p">{</span>
                    <span class="kt">int</span> <span class="n">remainingWorkDays</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">-</span> <span class="n">d</span><span class="p">.</span><span class="na">ordinal</span><span class="p">();</span>
                    <span class="n">yield</span> <span class="n">remainingWorkDays</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">};</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>switch语句的类型有限制：</p>
<p>You must choose the type of your selector variable among the following
types:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">byte</span></code>, <code class="docutils literal notranslate"><span class="pre">short</span></code>, <code class="docutils literal notranslate"><span class="pre">char</span></code>, and <code class="docutils literal notranslate"><span class="pre">int</span></code> primitive data types</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Character</span></code>, <code class="docutils literal notranslate"><span class="pre">Byte</span></code>, <code class="docutils literal notranslate"><span class="pre">Short</span></code>, and <code class="docutils literal notranslate"><span class="pre">Integer</span></code> wrapper types</p></li>
<li><p>enumerated types</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">String</span></code> type.</p></li>
</ul>
<p>It is worth noting that the following primitive types cannot be used for
the type of your selector variable: <code class="docutils literal notranslate"><span class="pre">boolean</span></code>, <code class="docutils literal notranslate"><span class="pre">long</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>,
and <code class="docutils literal notranslate"><span class="pre">double</span></code>.</p>
<blockquote>
<div><p>注意这里的noting是note，不是nothing</p>
</div></blockquote>
<p>The selector variable of a <code class="docutils literal notranslate"><span class="pre">switch</span></code> statement can be an object, so
this object can be null. You should protect your code from null selector
variables, because in this case the switch statement will throw a
<code class="docutils literal notranslate"><span class="pre">NullPointerException</span></code>.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="n">String</span> <span class="nf">convertToLabel</span><span class="p">(</span><span class="kt">int</span> <span class="n">quarter</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">String</span> <span class="n">quarterLabel</span> <span class="o">=</span>
        <span class="k">switch</span> <span class="p">(</span><span class="n">quarter</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">case</span> <span class="mi">0</span>  <span class="o">-&gt;</span> <span class="p">{</span>
                <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Q1 - Winter&quot;</span><span class="p">);</span>
                <span class="n">yield</span> <span class="s">&quot;Q1 - Winter&quot;</span><span class="p">;</span>
            <span class="p">};</span>
            <span class="k">default</span> <span class="o">-&gt;</span> <span class="s">&quot;Unknown quarter&quot;</span><span class="p">;</span>
        <span class="p">};</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">quarterLabel</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>switch里面的yield本质上是return，只是为了防止混淆，表示只退出switch表达式（Java14新语法），而不是退出整个方法，所以发明了yield。</p>
<p>for循环：</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>改造为functional style：</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">java.util.stream.IntStream</span><span class="p">;</span>

<span class="p">...</span>
<span class="n">IntStream</span><span class="p">.</span><span class="na">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
  <span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">IntStream.rangeClosed(0,</span> <span class="pre">5)</span></code>等价于<code class="docutils literal notranslate"><span class="pre">for(int</span> <span class="pre">i</span> <span class="pre">=</span> <span class="pre">0;</span> <span class="pre">i</span> <span class="pre">&lt;=</span> <span class="pre">5;</span> <span class="pre">i++)</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">IntStream.iterate(0,</span> <span class="pre">i</span> <span class="pre">-&gt;</span> <span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">15,</span> <span class="pre">i</span> <span class="pre">-&gt;</span> <span class="pre">i</span> <span class="pre">+</span> <span class="pre">3)</span></code>等价于<code class="docutils literal notranslate"><span class="pre">for(int</span> <span class="pre">i</span> <span class="pre">=</span> <span class="pre">0;</span> <span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">15;</span> <span class="pre">i</span> <span class="pre">=</span> <span class="pre">i</span> <span class="pre">+</span> <span class="pre">3)</span></code></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;;</span> <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">IntStream</span><span class="p">.</span><span class="na">iterate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span> <span class="o">-&gt;</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span>
    <span class="p">.</span><span class="na">takeWhile</span><span class="p">(</span><span class="n">i</span> <span class="o">-&gt;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">20</span><span class="p">)</span>
    <span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">names</span> <span class="o">=</span> <span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;Jack&quot;</span><span class="p">,</span> <span class="s">&quot;Paula&quot;</span><span class="p">,</span> <span class="s">&quot;Kate&quot;</span><span class="p">,</span> <span class="s">&quot;Peter&quot;</span><span class="p">);</span>
<span class="k">for</span><span class="p">(</span><span class="n">String</span> <span class="n">name</span><span class="p">:</span> <span class="n">names</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
<span class="p">}</span>


<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">names</span> <span class="o">=</span> <span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;Jack&quot;</span><span class="p">,</span> <span class="s">&quot;Paula&quot;</span><span class="p">,</span> <span class="s">&quot;Kate&quot;</span><span class="p">,</span> <span class="s">&quot;Peter&quot;</span><span class="p">);</span>
<span class="n">names</span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">name</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">name</span><span class="p">));</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">forEach()</span></code> method is available both on a <code class="docutils literal notranslate"><span class="pre">Collection&lt;T&gt;</span></code> and on
a <code class="docutils literal notranslate"><span class="pre">Stream&lt;T&gt;</span></code>. Functions like <code class="docutils literal notranslate"><span class="pre">filter()</span></code>, which we’ll use soon, are
available only on a <code class="docutils literal notranslate"><span class="pre">Stream&lt;T&gt;</span></code> and not on the <code class="docutils literal notranslate"><span class="pre">Collection</span></code>. This is
by design in order to provide efficiency when multiple intermediate
operations may precede the terminal operation like <code class="docutils literal notranslate"><span class="pre">forEach()</span></code>,
<code class="docutils literal notranslate"><span class="pre">findFirst()</span></code>, etc.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">names</span> <span class="o">=</span> <span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;Jack&quot;</span><span class="p">,</span> <span class="s">&quot;Paula&quot;</span><span class="p">,</span> <span class="s">&quot;Kate&quot;</span><span class="p">,</span> <span class="s">&quot;Peter&quot;</span><span class="p">);</span>

<span class="k">for</span><span class="p">(</span><span class="n">String</span> <span class="n">name</span><span class="p">:</span> <span class="n">names</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="n">name</span><span class="p">.</span><span class="na">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>


<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">names</span> <span class="o">=</span> <span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;Jack&quot;</span><span class="p">,</span> <span class="s">&quot;Paula&quot;</span><span class="p">,</span> <span class="s">&quot;Kate&quot;</span><span class="p">,</span> <span class="s">&quot;Peter&quot;</span><span class="p">);</span>

<span class="n">names</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
  <span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">name</span> <span class="o">-&gt;</span> <span class="n">name</span><span class="p">.</span><span class="na">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span>
  <span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">name</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">name</span><span class="p">));</span>
</pre></div>
</div>
<p>The compiler does not consider return type when differentiating methods,
so you cannot declare two methods with the same signature even if they
have a different return type.</p>
<p>方法重载不能根据返回类型来做，必须参数个数或者参数类型不一样。</p>
<p>在Java中，默认的访问修饰符是包范围（package-private），也被称为默认访问修饰符。这意味着，如果没有指定访问修饰符，类、接口、方法和变量将只能在同一包中被访问。</p>
<p>包范围不包括子目录。默认情况下，只有在同一包中的类才能访问包范围的成员。子目录中的类不被认为是同一包的一部分，因此无法访问包范围的成员。</p>
<p>Parameters形参、Arguments实参，注意不同叫法。</p>
<p>Simply declaring a reference variable does not create an object. For
that, you need to use the <code class="docutils literal notranslate"><span class="pre">new</span></code> operator, as described in the next
section. You must assign an object to <code class="docutils literal notranslate"><span class="pre">originOne</span></code> before you use it in
your code. Otherwise, you will get a compiler error.</p>
<p><em>Note: You also can use interface names as return types. In this case,
the object returned must implement the specified interface.</em></p>
<p>构造函数的位置：If present, the invocation of another constructor must
be the first line in the constructor.</p>
<p>protected = package-private + subclass</p>
<blockquote>
<div><p><em>Note: You can also refer to static fields with an object reference
like</em> <em>``myBike.numberOfBicycles``</em> <em>but this is discouraged because
it does not make it clear that they are class variables.</em></p>
<p><em>Note: You can also refer to static methods with an object reference
like</em> <em>``instanceName.methodName(args)``</em> <em>but this is discouraged
because it does not make it clear that they are class methods.</em></p>
</div></blockquote>
<p>A common use for static methods is to access static fields.
为什么要用静态方法（类方法）？为了访问静态变量（类变量）。</p>
<p><em>Note: If a primitive type or a string is defined as a constant and the
value is known at compile time, the compiler replaces the constant name
everywhere in the code with its value. This is called a compile-time
constant. If the value of the constant in the outside world changes (for
example, if it is legislated that pi actually should be 3.975), you will
need to recompile any classes that use this constant to get the current
value.</em></p>
<p>通过<code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">final</span></code>定义的基本类型和String的常量会在编译时就在代码中替换。</p>
<p>A class can have any number of static initialization blocks, and they
can appear anywhere in the class body. The runtime system guarantees
that static initialization blocks are called in the order that they
appear in the source code.</p>
<p>嵌套类的实例化：<code class="docutils literal notranslate"><span class="pre">this.new</span> <span class="pre">EvenIterator();</span></code></p>
<ul class="simple">
<li><p>Nested Classes（Inner Classes）是定义在类中</p></li>
<li><p>Local Classes是定义在方法中（ you can define a local class in a
method body, a for loop, or an if clause）</p></li>
<li><p>Anonymous Classes是没有类名的Local Classes（Use them if you need to
use a local class only once）</p></li>
</ul>
<p>由此可见，Java的类也不是必须单独定义在文件中，也是可以在一个文件中定义多个类的。但是嵌套类是有限制的。</p>
<p>You cannot declare an interface inside a block; interfaces are
inherently static.</p>
<blockquote>
<div><p>注意Expressions, Statements, and Blocks的区别</p>
</div></blockquote>
<p>接口是可以定义在类中的，但是不能定义在方法中。</p>
<p>Enums are classes where all instances are known to the compiler.</p>
<p>Often, the wrapping is done by the compiler—if you use a primitive where
an object is expected, the compiler boxes the primitive in its wrapper
class for you. Similarly, if you use a number object when a primitive is
expected, the compiler unboxes the object for you.</p>
<p><img alt="image4" src="../_images/2023-12-26-13-09-40-image.png" /></p>
<p>Constructors are not members, so they are not inherited by subclasses,
but the constructor of the superclass can be invoked from the subclass.</p>
<p>Methods in an interface (see the Interfaces section) that are not
declared as default or static are implicitly abstract, so the abstract
modifier is not used with interface methods. (It can be used, but it is
unnecessary.)</p>
<p>接口默认是abstract。接口里面的字段只能是静态常量（public static
final）。</p>
<p>Which should you use, abstract classes or interfaces?</p>
<ul class="simple">
<li><p>Consider using abstract classes if any of these statements apply to
your situation:</p>
<ul>
<li><p>You want to share code among several closely related classes.</p></li>
<li><p>You expect that classes that extend your abstract class have many
common methods or fields, or require access modifiers other than
public (such as <code class="docutils literal notranslate"><span class="pre">protected</span></code> and <code class="docutils literal notranslate"><span class="pre">private</span></code>).</p></li>
<li><p>You want to declare non-static or non-final fields. This enables
you to define methods that can access and modify the state of the
object to which they belong.</p></li>
</ul>
</li>
<li><p>Consider using interfaces if any of these statements apply to your
situation:</p>
<ul>
<li><p>You expect that unrelated classes would implement your interface.
For example, the
interfaces <code class="docutils literal notranslate"><span class="pre">`Comparable</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Comparable.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Comparable.html</a>&gt;`__ and <code class="docutils literal notranslate"><span class="pre">`Cloneable</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Cloneable.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Cloneable.html</a>&gt;`__ are
implemented by many unrelated classes.</p></li>
<li><p>You want to specify the behavior of a particular data type, but
not concerned about who implements its behavior.</p></li>
<li><p>You want to take advantage of multiple inheritance of type.</p></li>
</ul>
</li>
</ul>
<p>抽象类实现接口部分方法，子类实现剩余方法：</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">X</span> <span class="kd">implements</span> <span class="n">Y</span> <span class="p">{</span>
  <span class="c1">// implements all but one method of Y</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">XX</span> <span class="kd">extends</span> <span class="n">X</span> <span class="p">{</span>
  <span class="c1">// implements the remaining method in Y</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If you define a reference variable whose type is an interface, any
object you assign to it must be an instance of a class that implements
the interface.</p>
<p><code class="docutils literal notranslate"><span class="pre">Box&lt;Integer&gt;</span></code> is not a subtype of <code class="docutils literal notranslate"><span class="pre">Box&lt;Number&gt;</span></code> even though Integer
is a subtype of Number.</p>
<p><img alt="image5" src="../_images/2023-12-29-18-15-51-image.png" /></p>
<p><code class="docutils literal notranslate"><span class="pre">List&lt;A&gt;</span></code> is a subtype of <code class="docutils literal notranslate"><span class="pre">List&lt;?&gt;</span></code></p>
<p>It’s important to note that <code class="docutils literal notranslate"><span class="pre">List&lt;Object&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">List&lt;?&gt;</span></code> are not the
same. You can insert an
<code class="docutils literal notranslate"><span class="pre">`Object</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html</a>&gt;`__,
or any subtype of
<code class="docutils literal notranslate"><span class="pre">`Object</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html</a>&gt;`__,
into a <code class="docutils literal notranslate"><span class="pre">List&lt;Object&gt;</span></code>. But you can only insert <code class="docutils literal notranslate"><span class="pre">null</span></code> into a
<code class="docutils literal notranslate"><span class="pre">List&lt;?&gt;</span></code>.</p>
<p><img alt="image6" src="../_images/image-20240106232311939.png" /></p>
<p>不能直接创建泛型的实例：</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="kt">void</span> <span class="nf">append</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="n">list</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">E</span> <span class="n">elem</span> <span class="o">=</span> <span class="k">new</span> <span class="n">E</span><span class="p">();</span>  <span class="c1">// compile-time error</span>
    <span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">elem</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>可以通过反射来创建：</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="kt">void</span> <span class="nf">append</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="n">list</span><span class="p">,</span> <span class="n">Class</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="n">cls</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="p">{</span>
    <span class="n">E</span> <span class="n">elem</span> <span class="o">=</span> <span class="n">cls</span><span class="p">.</span><span class="na">newInstance</span><span class="p">();</span>   <span class="c1">// OK</span>
    <span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">elem</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">ls</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">append</span><span class="p">(</span><span class="n">ls</span><span class="p">,</span> <span class="n">String</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
</pre></div>
</div>
<p>Lambda Expression必须是functional，a functional interface is an
interface that has only one <em>abstract</em> method</p>
<p>Lambda Expression只能使用值，也就是不可变。</p>
<p>Variable used in lambda expression should be final or effectively final</p>
<p>The JDK 8 also introduces a new package: java.util.function with
functional interfaces for you to use in your application.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">immutableStrings</span> <span class="o">=</span>
        <span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">,</span> <span class="s">&quot;four&quot;</span><span class="p">,</span> <span class="s">&quot;five&quot;</span><span class="p">);</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">immutableStrings</span><span class="p">);</span>
<span class="n">Predicate</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">isOddLength</span> <span class="o">=</span> <span class="n">s</span> <span class="o">-&gt;</span> <span class="n">s</span><span class="p">.</span><span class="na">length</span><span class="p">()</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">strings</span><span class="p">.</span><span class="na">removeIf</span><span class="p">(</span><span class="n">isOddLength</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;strings = &quot;</span> <span class="o">+</span> <span class="n">strings</span><span class="p">);</span>
</pre></div>
</div>
<p>从这个例子看出，Lambda表达式的返回值是“函数接口实现”，<code class="docutils literal notranslate"><span class="pre">Supplier&lt;T&gt;</span></code>
<code class="docutils literal notranslate"><span class="pre">Consumer&lt;T&gt;</span></code> <code class="docutils literal notranslate"><span class="pre">Predicate&lt;T&gt;</span></code>
<code class="docutils literal notranslate"><span class="pre">Function&lt;T,</span> <span class="pre">R&gt;</span></code>，然后再传入Stream/Collection。</p>
<p>The java.util.function package is now central in Java, because all the
lambda expressions you are going to use in the Collections Framework or
the Stream API implement one of the interfaces from that package.</p>
<p>The Four Categories of Functional Interfaces:</p>
<ul class="simple">
<li><p>the suppliers: do not take any argument, return something</p></li>
<li><p>the consumers: take an argument, do not return anything</p></li>
<li><p>the predicates: take an argument, return a boolean</p></li>
<li><p>the functions: take an argument, return something</p></li>
</ul>
<p>Lambda表达式可以简写，叫做方法引用，可以理解为“匿名函数”，比如：</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Static Method References</span>
<span class="c1">// RefType::staticMethod</span>
<span class="n">IntBinaryOperator</span> <span class="n">max</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Integer</span><span class="p">.</span><span class="na">max</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>
<span class="n">IntBinaryOperator</span> <span class="n">max</span> <span class="o">=</span> <span class="n">Integer</span><span class="p">::</span><span class="n">max</span><span class="p">;</span>

<span class="c1">// Unbound Method References</span>
<span class="c1">// RefType:instanceMethod</span>
<span class="n">Function</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">toLength</span> <span class="o">=</span> <span class="n">s</span> <span class="o">-&gt;</span> <span class="n">s</span><span class="p">.</span><span class="na">length</span><span class="p">();</span>
<span class="n">Function</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">toLength</span> <span class="o">=</span> <span class="n">String</span><span class="p">::</span><span class="n">length</span><span class="p">;</span>

<span class="c1">// Bound Method References</span>
<span class="c1">// expr:instanceMethod</span>
<span class="n">Consumer</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">printer</span> <span class="o">=</span> <span class="n">s</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="n">Consumer</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">printer</span> <span class="o">=</span> <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">;</span>

<span class="c1">// Constructor Method References</span>
<span class="c1">// ClassName::new</span>
<span class="n">Supplier</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;</span> <span class="n">newListOfStrings</span> <span class="o">=</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">Supplier</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;</span> <span class="n">newListOfStrings</span> <span class="o">=</span> <span class="n">ArrayList</span><span class="p">::</span><span class="k">new</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Comparator</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">byLengthThenAlphabetically</span> <span class="o">=</span>
        <span class="n">Comparator</span><span class="p">.</span><span class="na">comparing</span><span class="p">(</span><span class="n">String</span><span class="p">::</span><span class="n">length</span><span class="p">)</span>
                  <span class="p">.</span><span class="na">thenComparing</span><span class="p">(</span><span class="n">naturalOrder</span><span class="p">());</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">,</span> <span class="s">&quot;four&quot;</span><span class="p">,</span> <span class="s">&quot;five&quot;</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">sort</span><span class="p">(</span><span class="n">byLengthThenAlphabetically</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">strings</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span>
        <span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">,</span> <span class="s">&quot;four&quot;</span><span class="p">,</span> <span class="s">&quot;five&quot;</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">sort</span><span class="p">(</span><span class="n">byLengthThenAlphabetically</span><span class="p">.</span><span class="na">reversed</span><span class="p">());</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">strings</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span>
        <span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s">&quot;four&quot;</span><span class="p">,</span> <span class="s">&quot;five&quot;</span><span class="p">);</span>
<span class="n">Comparator</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">naturalNullsLast</span> <span class="o">=</span>
        <span class="n">Comparator</span><span class="p">.</span><span class="na">nullsLast</span><span class="p">(</span><span class="n">naturalOrder</span><span class="p">());</span>
<span class="n">strings</span><span class="p">.</span><span class="na">sort</span><span class="p">(</span><span class="n">naturalNullsLast</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">strings</span><span class="p">);</span>
</pre></div>
</div>
<p>Annotations have a number of uses, among them:</p>
<ul class="simple">
<li><p>Information for the compiler — Annotations can be used by the
compiler to detect errors or suppress warnings.</p></li>
<li><p>Compile-time and deployment-time processing — Software tools can
process annotation information to generate code, XML files, and so
forth.</p></li>
<li><p>Runtime processing — Some annotations are available to be examined at
runtime.</p></li>
</ul>
<p>使用<code class="docutils literal notranslate"><span class="pre">&#64;interface</span></code>自定义注解。</p>
<p>Definition: A package is a grouping of related types providing access
protection and name space management. Note that types refers to classes,
interfaces, enumerations, and annotation types. Enumerations and
annotation types are special kinds of classes and interfaces,
respectively, so types are often referred to in this section simply as
classes and interfaces.</p>
<p>For convenience, the Java compiler automatically imports two entire
packages for each source file:</p>
<ol class="arabic simple">
<li><p>the <code class="docutils literal notranslate"><span class="pre">`java.lang</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/package-summary.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/package-summary.html</a>&gt;`__ package
and</p></li>
<li><p>the current package (the package for the current file).</p></li>
</ol>
<p>Java无需手动导入当前包的其他类，因为Java默认已经导入了。</p>
<p>You might have to set your <code class="docutils literal notranslate"><span class="pre">CLASSPATH</span></code> so that the compiler and the
JVM can find the <code class="docutils literal notranslate"><span class="pre">.class</span></code> files for your types.</p>
<p>Checked exceptions are subject to the Catch or Specify Requirement. All
exceptions are checked exceptions, except for those indicated
by <code class="docutils literal notranslate"><span class="pre">`Error</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Error.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Error.html</a>&gt;`__, <code class="docutils literal notranslate"><span class="pre">`RuntimeException</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/RuntimeException.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/RuntimeException.html</a>&gt;`__,
and their subclasses.</p>
<p>checked exceptions是指需要校验的异常，要返给用户提示。</p>
<p>The runtime system always executes the statements within
the <code class="docutils literal notranslate"><span class="pre">finally</span></code> block regardless of what happens within
the <code class="docutils literal notranslate"><span class="pre">try</span></code> block. 即使有异常，也会执行finally</p>
<p>Important: The <code class="docutils literal notranslate"><span class="pre">finally</span></code> block is a key tool for preventing resource
leaks. When closing a file or otherwise recovering resources, place the
code in a <code class="docutils literal notranslate"><span class="pre">finally</span></code> block to ensure that resource is always
recovered.（还可以用try-with语句）</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">static</span> <span class="n">String</span> <span class="nf">readFirstLineFromFile</span><span class="p">(</span><span class="n">String</span> <span class="n">path</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">(</span><span class="n">BufferedReader</span> <span class="n">br</span> <span class="o">=</span>
                   <span class="k">new</span> <span class="n">BufferedReader</span><span class="p">(</span><span class="k">new</span> <span class="n">FileReader</span><span class="p">(</span><span class="n">path</span><span class="p">)))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">br</span><span class="p">.</span><span class="na">readLine</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>you can throw only objects that inherit from
the <code class="docutils literal notranslate"><span class="pre">`java.lang.Throwable</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Throwable.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Throwable.html</a>&gt;`__ class.</p>
<p>只有checked exception才需要在方法小括号后面加上throws</p>
</div>
<div class="section" id="mastering-the-api">
<h2>Mastering the API<a class="headerlink" href="#mastering-the-api" title="Permalink to this headline">¶</a></h2>
<p>There are two main categories of interfaces in the Collections
Framework: collections and maps.</p>
<p>List有序，Set不可重复。</p>
<p>What is the difference between sorting and ordering? A
<code class="docutils literal notranslate"><span class="pre">`List</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html</a>&gt;`__
keeps its elements in the order they have been added, and a
<code class="docutils literal notranslate"><span class="pre">`SortedSet</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SortedSet.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SortedSet.html</a>&gt;`__
keeps them sorted.</p>
<p><code class="docutils literal notranslate"><span class="pre">addAll()</span></code>，This is an important point to understand: getting a
<code class="docutils literal notranslate"><span class="pre">true</span></code> value does not mean that all the elements of the other
collection have been added; it means that at least one has been added.</p>
<p><code class="docutils literal notranslate"><span class="pre">`ArrayList</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html</a>&gt;`__
and
<code class="docutils literal notranslate"><span class="pre">`LinkedList</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/LinkedList.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/LinkedList.html</a>&gt;`__</p>
<blockquote>
<div><p>Is one of these implementation better than the other? If you are not
sure which one to choose, then your best choice is probably
<code class="docutils literal notranslate"><span class="pre">`ArrayList</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html</a>&gt;`__.</p>
<p>What was true for linked lists when computing was invented in the
60’s does not hold anymore, and the capacity of linked lists to
outperform arrays on insertion and deletion operations is greatly
diminished by modern hardware, CPU caches, and pointer chasing.
Iterating over the elements of an
<code class="docutils literal notranslate"><span class="pre">`ArrayList</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html</a>&gt;`__
is much faster that over the elements of a
<code class="docutils literal notranslate"><span class="pre">`LinkedList</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/LinkedList.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/LinkedList.html</a>&gt;`__,
mainly due to pointer chasing and CPU cache misses.</p>
<p>There are still cases where a linked list is faster than an array. A
doubly-linked list can access its first and last element faster than
an
<code class="docutils literal notranslate"><span class="pre">`ArrayList</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html</a>&gt;`__
can. This is the main use case that makes
<code class="docutils literal notranslate"><span class="pre">`LinkedList</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/LinkedList.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/LinkedList.html</a>&gt;`__
better than
<code class="docutils literal notranslate"><span class="pre">`ArrayList</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html</a>&gt;`__.
So if your application needs a Last In, First Out (LIFO, covered
later in this tutorial) stack, or a First In, First Out (FIFO, also
covered later) waiting queue, then choosing a linked list is probably
your best choice.</p>
<p>On the other hand, if you plan to iterate through the elements of
your list, or to access them randomly by their index, then the
<code class="docutils literal notranslate"><span class="pre">`ArrayList</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html</a>&gt;`__
is probably your best bet.</p>
</div></blockquote>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">`headSet(toElement)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/TreeSet.html#headSet(E)">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/TreeSet.html#headSet(E)</a>&gt;`__
and
<code class="docutils literal notranslate"><span class="pre">`tailSet(fromElement)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/TreeSet.html#tailSet(E)">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/TreeSet.html#tailSet(E)</a>&gt;`__
returns you subsets containing the elements lower than <code class="docutils literal notranslate"><span class="pre">toElement</span></code>
or greater than <code class="docutils literal notranslate"><span class="pre">fromElement</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`subSet(fromElement,</span> <span class="pre">toElement)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/TreeSet.html#subSet(E,E)">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/TreeSet.html#subSet(E,E)</a>&gt;`__
gives you a subset of the element between <code class="docutils literal notranslate"><span class="pre">fromElement</span></code> and
<code class="docutils literal notranslate"><span class="pre">toElement</span></code>.</p></li>
</ul>
<p>The three subsets that these methods return are <em>views</em> on the main set.
No copy is made, meaning that any change you make to these subsets will
be reflected in the set, and the other way round.</p>
<p>The Collections Framework has a class called
<code class="docutils literal notranslate"><span class="pre">`Arrays</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Arrays.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Arrays.html</a>&gt;`__
with about 200 methods to handle arrays.</p>
<p>The Collections Framework comes with another factory class:
<code class="docutils literal notranslate"><span class="pre">`Collections</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collections.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collections.html</a>&gt;`__,
with a set of method to manipulate collections and their content. There
are about 70 methods in this class.</p>
<p>The Collections Framework gives you two interfaces to model queues and
stacks:</p>
<ul class="simple">
<li><p>the
<code class="docutils literal notranslate"><span class="pre">`Queue</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Queue.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Queue.html</a>&gt;`__
interface models a queue;</p></li>
<li><p>the
<code class="docutils literal notranslate"><span class="pre">`Deque</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Deque.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Deque.html</a>&gt;`__
interface models a double ended queue (thus the name). You can push,
pop, poll and peek elements on both the tail and the head of a
<code class="docutils literal notranslate"><span class="pre">`Deque</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Deque.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Deque.html</a>&gt;`__,
making it both a queue and a stack.</p></li>
</ul>
<p>Although
<code class="docutils literal notranslate"><span class="pre">`Vector</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Vector.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Vector.html</a>&gt;`__
is not deprecated, its usage is discouraged. So is the usage of the
<code class="docutils literal notranslate"><span class="pre">`Stack</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Stack.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Stack.html</a>&gt;`__
class. If you do not need the thread safety, then you can safely replace
its usage with
<code class="docutils literal notranslate"><span class="pre">`Deque</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Deque.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Deque.html</a>&gt;`__
and
<code class="docutils literal notranslate"><span class="pre">`ArrayDeque</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayDeque.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayDeque.html</a>&gt;`__.
If what you need is a thread-safe stack, then you should explore the
implementations of the
<code class="docutils literal notranslate"><span class="pre">`BlockingQueue</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/BlockingQueue.html">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/BlockingQueue.html</a>&gt;`__
interface.</p>
<p>HashSet其实是个HashMap。a hashset stores your object in a hashmap. Your
objects are the keys of this hashmap, and the value is just a
placeholder, an object with no significance.</p>
<p>The important point to remember here is that if you mutate your objects
after you have added them to a set, you may come across weird bugs in
your application, that will be hard to fix. You should never mutate an
object once it has been added to a Set!</p>
<p>In a nutshell, the Stream API is about providing an implementation of
the well known map-filter-reduce algorithm to the JDK.</p>
<p>The first step of the map-filter-reduce algorithm is the <em>mapping</em> step.
A mapping consists of the transforming the objects or the values that
you are processing. A mapping is a one-to-one transformation: if you map
a list of 10 objects, you will get a list of 10 transformed objects.</p>
<blockquote>
<div><p><em>A mapping changes the types of objects; it does not change their
number.</em></p>
</div></blockquote>
<p>A mapping is modeled by the <code class="docutils literal notranslate"><span class="pre">Function</span></code> functional interface.</p>
<blockquote>
<div><p><em>A filtering changes the number of objects; it does not change their
type.</em></p>
</div></blockquote>
<p>A filtering is modeled by the <code class="docutils literal notranslate"><span class="pre">Predicate</span></code> functional interface.</p>
<p>The reduction step allows you to build complex structures with your
data, including lists, sets, maps of any kind, or even structures that
you can build yourself.</p>
<p>For obvious performances reasons, creating a <code class="docutils literal notranslate"><span class="pre">map()</span></code> method that would
return a <code class="docutils literal notranslate"><span class="pre">Collection</span></code> on the <code class="docutils literal notranslate"><span class="pre">Collection</span></code> interface is not the right
way to go. You would end up creating unnecessary intermediate structures
with a high overhead on both the memory and the CPU.</p>
<p>This is the reason why the <code class="docutils literal notranslate"><span class="pre">map()</span></code> and <code class="docutils literal notranslate"><span class="pre">filter()</span></code> methods have not
been added to the <code class="docutils literal notranslate"><span class="pre">Collection</span></code> interface. Instead, they have been
created on the <code class="docutils literal notranslate"><span class="pre">Stream</span></code> interface.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Stream</span></code> interface avoids creating intermediate structures to
store mapped or filtered objects.</p>
<p>流的map是一对一映射，也就是转变类型，不改类型就不用map。如果要输出为Map类型
，要使用collect。</p>
<p>The first, legacy one, is the File class. This class is mentioned here,
with a word of warning: you should not use it anymore in your code,
unless you have very good reasons to do so. You should favor the use of
the Path interface, also covered in this section. Along with the factory
methods from the Files, it gives you more features than the File class,
and better performances, especially to access larger files and
directories.</p>
<p>java.security包内置了安全实现，比如生成密钥、数字签名等。</p>
<p>Java reflection allows an object to look in the mirror and discover what
fields, methods, and constructors it has. We can read and write fields,
invoke methods, and even create new objects by calling the constructors.</p>
</div>
<div class="section" id="organizing-your-application">
<h2>Organizing your Application<a class="headerlink" href="#organizing-your-application" title="Permalink to this headline">¶</a></h2>
<p>The Java APIs are organized into methods, classes, packages, and - at
the highest level - modules. A module has a number of essential pieces
of information attached to it:</p>
<ul class="simple">
<li><p>a name</p></li>
<li><p>a list of dependencies on other modules</p></li>
<li><p>a public API (with everything else being module internal and
inaccessible)</p></li>
<li><p>a list of services it uses and provides</p></li>
</ul>
</div>
<div class="section" id="getting-to-know-the-jvm">
<h2>Getting to know the JVM<a class="headerlink" href="#getting-to-know-the-jvm" title="Permalink to this headline">¶</a></h2>
<p>Manual memory management does have some advantages. Developers have
precise control over when an object is removed. Manual memory management
might also be more efficient as no background process is running,
consuming system resources and monitoring memory usage. Though this
advantage is less significant as modern automated memory systems have
improved in performance.</p>
<p>However, manual memory management comes with some significant downsides.
With manual memory management, developers must consciously know how an
application uses memory. This can be time-consuming and difficult,
requiring developers to add control code for the safe allocation and
deallocation of objects from memory. This control code could be
distracting as it obscures the business meaningful work the code is
attempting to accomplish. A developer might also fail to properly handle
error conditions, resulting in objects not being deleted, leading to a
memory leak.</p>
<p>Most garbage collectors in Java are generational garbage collectors.
Generational garbage collectors are designed to take advantage of the
weak generational hypothesis, which posits that most objects are
short-lived. Consequently, generational garbage collectors divide the
heap into young and old generations. On allocation, objects start in a
young generation, objects in young generations are frequently checked if
they are no longer reachable. If an object survives enough garbage
collection cycles, it’ll be copied to an old generation, which is less
frequently checked.</p>
<blockquote>
<div><p>参考资料：</p>
<p><a class="reference external" href="https://dev.java/learn/">https://dev.java/learn/</a></p>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="003001-%E3%80%90%E5%BA%93%E3%80%91fastjson%E7%9F%A5%E5%A4%9A%E5%B0%91.html" class="btn btn-neutral float-right" title="【库】fastjson知多少" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="002014-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B014%E6%B5%81.html" class="btn btn-neutral float-left" title="【官方】Java官方笔记14流" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 测试开发体系

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>