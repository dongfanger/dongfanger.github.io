

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>【官方】Java官方笔记13集合 &mdash; 测试开发Gang latest documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/js/readmore.js"></script>
        <script src="../_static/js/baidutongji.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="【官方】Java官方笔记14流" href="002014-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B014%E6%B5%81.html" />
    <link rel="prev" title="【官方】Java官方笔记12异常" href="002012-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B012%E5%BC%82%E5%B8%B8.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> 测试开发Gang
          

          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../%E5%85%B3%E4%BA%8E%E6%9C%AC%E4%B9%A6.html">关于本书</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../chapters/Java.html">Java</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="000001-%E3%80%90%E5%85%A5%E9%97%A8%E3%80%91%E6%B5%8B%E8%AF%95%E4%BA%BA%E5%91%98%E5%AD%A6Java%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97.html">【入门】测试人员学Java入门指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="001001-%E3%80%90%E8%BF%9B%E9%98%B6%E3%80%91Java%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B%E7%B2%BE%E5%8D%8E%E7%AC%94%E8%AE%B0.html">【进阶】Java高级编程精华笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="001002-%E3%80%90%E8%BF%9B%E9%98%B6%E3%80%91%E5%88%B7%E5%AE%8C3%E4%B8%AAJava%E6%95%99%E7%A8%8B%E5%90%8E%E4%B8%8D%E5%86%8D%E7%8A%B9%E8%B1%AB.html">【进阶】刷完3个Java教程后不再犹豫</a></li>
<li class="toctree-l2"><a class="reference internal" href="002001-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B01%E7%BC%96%E5%86%99%E8%BF%90%E8%A1%8CJava%E7%A8%8B%E5%BA%8F.html">【官方】Java官方笔记1编写运行Java程序</a></li>
<li class="toctree-l2"><a class="reference internal" href="002002-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B02%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html">【官方】Java官方笔记2面向对象编程基本概念</a></li>
<li class="toctree-l2"><a class="reference internal" href="002003-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B03Java%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80.html">【官方】Java官方笔记3Java语言基础</a></li>
<li class="toctree-l2"><a class="reference internal" href="002004-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B04%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1.html">【官方】Java官方笔记4类和对象</a></li>
<li class="toctree-l2"><a class="reference internal" href="002005-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B05%E6%95%B0%E5%AD%97%E5%92%8C%E5%AD%97%E7%AC%A6%E4%B8%B2.html">【官方】Java官方笔记5数字和字符串</a></li>
<li class="toctree-l2"><a class="reference internal" href="002006-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B06%E7%BB%A7%E6%89%BF.html">【官方】Java官方笔记6继承</a></li>
<li class="toctree-l2"><a class="reference internal" href="002007-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B07%E6%8E%A5%E5%8F%A3.html">【官方】Java官方笔记7接口</a></li>
<li class="toctree-l2"><a class="reference internal" href="002008-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B08%E6%B3%9B%E5%9E%8B.html">【官方】Java官方笔记8泛型</a></li>
<li class="toctree-l2"><a class="reference internal" href="002009-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B09Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F.html">【官方】Java官方笔记9Lambda表达式</a></li>
<li class="toctree-l2"><a class="reference internal" href="002010-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B010%E6%B3%A8%E8%A7%A3.html">【官方】Java官方笔记10注解</a></li>
<li class="toctree-l2"><a class="reference internal" href="002011-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B011%E5%8C%85.html">【官方】Java官方笔记11包</a></li>
<li class="toctree-l2"><a class="reference internal" href="002012-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B012%E5%BC%82%E5%B8%B8.html">【官方】Java官方笔记12异常</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">【官方】Java官方笔记13集合</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#storing-data">Storing Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#collection-hierarchy">Collection Hierarchy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#storing-elements">Storing Elements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iterating">Iterating</a></li>
<li class="toctree-l3"><a class="reference internal" href="#list">List</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set">Set</a></li>
<li class="toctree-l3"><a class="reference internal" href="#factory-methods">Factory Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stacks-and-queues">Stacks and Queues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#maps">Maps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="002014-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B014%E6%B5%81.html">【官方】Java官方笔记14流</a></li>
<li class="toctree-l2"><a class="reference internal" href="002015-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91%E4%BA%8C%E5%88%B7Java%E5%AE%98%E6%96%B9%E6%95%99%E7%A8%8B.html">【官方】二刷Java官方教程</a></li>
<li class="toctree-l2"><a class="reference internal" href="003001-%E3%80%90%E5%BA%93%E3%80%91fastjson%E7%9F%A5%E5%A4%9A%E5%B0%91.html">【库】fastjson知多少</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95.html">单元测试</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/JavaWeb%E5%BC%80%E5%8F%91.html">JavaWeb开发</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/Spring%E6%8A%80%E6%9C%AF%E6%A0%88.html">Spring技术栈</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html">设计模式</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95.html">白盒测试</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/TestNG.html">TestNG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E4%B8%AD%E9%97%B4%E4%BB%B6.html">中间件</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/Python.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/pytest.html">pytest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/Django.html">Django</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/Flask.html">Flask</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/FastAPI.html">FastAPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/HttpRunner.html">HttpRunner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E5%8E%9F%E5%88%9B%E5%B0%8F%E5%B7%A5%E5%85%B7.html">原创小工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E5%8E%9F%E5%88%9B%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6tep.html">原创接口测试框架tep</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E5%8E%9F%E5%88%9B%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%B9%B3%E5%8F%B0teprunner.html">原创接口测试平台teprunner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A.html">测试报告</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/Golang.html">Golang</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E7%AE%97%E6%B3%95.html">算法</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E8%87%AA%E5%8A%A8%E5%8C%96.html">自动化</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83.html">测试环境</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E6%B5%81%E9%87%8F%E5%9B%9E%E6%94%BE.html">流量回放</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95.html">性能测试</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E7%A7%BB%E5%8A%A8%E7%AB%AF.html">移动端</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9F%A5%E8%AF%86.html">计算机知识</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.html">读书笔记</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/%E4%B8%AA%E4%BA%BA%E6%80%9D%E8%80%83.html">个人思考</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%B0%8A%E4%BA%AB%E6%9C%8D%E5%8A%A1.html">尊享服务</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">测试开发Gang</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../chapters/Java.html">Java</a> &raquo;</li>
        
      <li>【官方】Java官方笔记13集合</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Java/002013-【官方】Java官方笔记13集合.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="java13">
<h1>【官方】Java官方笔记13集合<a class="headerlink" href="#java13" title="Permalink to this headline">¶</a></h1>
<p><img alt="image1" src="../_images/wanggang5.png" /></p>
<div class="section" id="storing-data">
<h2>Storing Data<a class="headerlink" href="#storing-data" title="Permalink to this headline">¶</a></h2>
<p>The Collections Framework is the most widely used API of the JDK.</p>
<blockquote>
<div><p>集合不是数据类型，它是JDK的API，可以用来存储数据等，相当于数据结构。</p>
</div></blockquote>
<p>the Collections Framework is a set of interfaces that models different
way of storing data in different types of containers. Then the Framework
provides at least one implementation for each interface.</p>
<p>There are two main categories of interfaces in the Collections
Framework: collections and
maps.（所以我猜想Python也是基于这样的考虑，设计了List和Dict，并作为Python基本数据类型，实际编码中要用到的也主要是这两类）</p>
<p>That makes two main
categories, <code class="docutils literal notranslate"><span class="pre">`Collection</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html</a>&gt;`__ and <code class="docutils literal notranslate"><span class="pre">`Map</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html</a>&gt;`__,
a
subcategory, <code class="docutils literal notranslate"><span class="pre">`Queue</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Queue.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Queue.html</a>&gt;`__,
and a side
category, <code class="docutils literal notranslate"><span class="pre">`Iterator</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html</a>&gt;`__.</p>
<p>a collection is an object，but an array is not an object in Java.</p>
</div>
<div class="section" id="collection-hierarchy">
<h2>Collection Hierarchy<a class="headerlink" href="#collection-hierarchy" title="Permalink to this headline">¶</a></h2>
<p><img alt="image2" src="../_images/2023-06-20-15-41-07-image.png" /></p>
<p>The Iterable Interface is the super interface of
the <strong>Collection interface</strong>, and thus of all the interfaces of this
hierarchy. An object that
implements <code class="docutils literal notranslate"><span class="pre">`Iterable</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Iterable.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Iterable.html</a>&gt;`__ is
an object that you can iterate over.</p>
<p>the <code class="docutils literal notranslate"><span class="pre">`Collection</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html</a>&gt;`__ interface
also models different ways of accessing its elements:</p>
<ul class="simple">
<li><p>you can iterate over the elements of a collection, through the use of
an iterator;</p></li>
<li><p>you can create a stream on these elements, that can be parallel.</p></li>
</ul>
<p><strong>List是有序列表</strong>：</p>
<p>The difference between
a <code class="docutils literal notranslate"><span class="pre">`List</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html</a>&gt;`__ of
elements and
a <code class="docutils literal notranslate"><span class="pre">`Collection</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html</a>&gt;`__ of
elements, is that
a <code class="docutils literal notranslate"><span class="pre">`List</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html</a>&gt;`__ remembers
in what order its elements have been added. If you iterate over the
elements of a list, the first element you will get is the first that has
been added.</p>
<p><strong>You do not have this guarantee with a plain Collection nor for
a Set.</strong></p>
<p>List跟Collection的区别是，增加了index。</p>
<p>Set跟Collection的区别是，不允许重复。</p>
<p>Set是无序的，SortedSet是排序过的，SortedSet的排序是指从小到大排列，跟List的有序不一样，List有序是指的先添加排前面，不一定是最小的。</p>
</div>
<div class="section" id="storing-elements">
<h2>Storing Elements<a class="headerlink" href="#storing-elements" title="Permalink to this headline">¶</a></h2>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;two&quot;</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;strings = &quot;</span> <span class="o">+</span> <span class="n">strings</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;strings = &quot;</span> <span class="o">+</span> <span class="n">strings</span><span class="p">);</span>
</pre></div>
</div>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">`containsAll()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html#containsAll(java.util.Collection)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html#containsAll(java.util.Collection)</a>&gt;`__:
defines the inclusion</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;two&quot;</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;three&quot;</span><span class="p">);</span>

<span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">first</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;two&quot;</span><span class="p">);</span>

<span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">second</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;four&quot;</span><span class="p">);</span>

<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Is first contained in strings? &quot;</span> <span class="o">+</span> <span class="n">strings</span><span class="p">.</span><span class="na">containsAll</span><span class="p">(</span><span class="n">first</span><span class="p">));</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Is second contained in strings? &quot;</span> <span class="o">+</span> <span class="n">strings</span><span class="p">.</span><span class="na">containsAll</span><span class="p">(</span><span class="n">second</span><span class="p">));</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">`addAll()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html#addAll(java.util.Collection)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html#addAll(java.util.Collection)</a>&gt;`__:
defines the union 并集</p>
<p>Getting a <code class="docutils literal notranslate"><span class="pre">true</span></code> value does not mean that all the elements of the
other collection have been added; it means that <strong>at least one has
been added</strong>.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;two&quot;</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;three&quot;</span><span class="p">);</span>

<span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">first</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">first</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">);</span>
<span class="n">first</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;four&quot;</span><span class="p">);</span>

<span class="kt">boolean</span> <span class="n">hasChanged</span> <span class="o">=</span> <span class="n">strings</span><span class="p">.</span><span class="na">addAll</span><span class="p">(</span><span class="n">first</span><span class="p">);</span>

<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Has strings changed? &quot;</span> <span class="o">+</span> <span class="n">hasChanged</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;strings = &quot;</span> <span class="o">+</span> <span class="n">strings</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">`removeAll()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html#removeAll(java.util.Collection)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html#removeAll(java.util.Collection)</a>&gt;`__:
defines the complement</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;two&quot;</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;three&quot;</span><span class="p">);</span>

<span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">toBeRemoved</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">toBeRemoved</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">);</span>
<span class="n">toBeRemoved</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;four&quot;</span><span class="p">);</span>

<span class="kt">boolean</span> <span class="n">hasChanged</span> <span class="o">=</span> <span class="n">strings</span><span class="p">.</span><span class="na">removeAll</span><span class="p">(</span><span class="n">toBeRemoved</span><span class="p">);</span>

<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Has strings changed? &quot;</span> <span class="o">+</span> <span class="n">hasChanged</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;strings = &quot;</span> <span class="o">+</span> <span class="n">strings</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">`retainAll()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html#retainAll(java.util.Collection)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html#retainAll(java.util.Collection)</a>&gt;`__:
defines the intersection 交集</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;two&quot;</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;three&quot;</span><span class="p">);</span>

<span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">toBeRetained</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">toBeRetained</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">);</span>
<span class="n">toBeRetained</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;four&quot;</span><span class="p">);</span>

<span class="kt">boolean</span> <span class="n">hasChanged</span> <span class="o">=</span> <span class="n">strings</span><span class="p">.</span><span class="na">retainAll</span><span class="p">(</span><span class="n">toBeRetained</span><span class="p">);</span>

<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Has strings changed? &quot;</span> <span class="o">+</span> <span class="n">hasChanged</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;strings = &quot;</span> <span class="o">+</span> <span class="n">strings</span><span class="p">);</span>
</pre></div>
</div>
</li>
</ul>
<p>注意上面的并集和交集，Collection本来就是集合，所以能够求并集和交集是理所当然的。</p>
<p>isEmpty()、clear()</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;two&quot;</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">strings</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span> <span class="p">{</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Indeed strings is not empty!&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;The number of elements in strings is &quot;</span> <span class="o">+</span> <span class="n">strings</span><span class="p">.</span><span class="na">size</span><span class="p">());</span>
</pre></div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;two&quot;</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;The number of elements in strings is &quot;</span> <span class="o">+</span> <span class="n">strings</span><span class="p">.</span><span class="na">size</span><span class="p">());</span>
<span class="n">strings</span><span class="p">.</span><span class="na">clear</span><span class="p">();</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;After clearing it, this number is now &quot;</span> <span class="o">+</span> <span class="n">strings</span><span class="p">.</span><span class="na">size</span><span class="p">());</span>
</pre></div>
</div>
<p>size()，Collection相当于容器，用size。而array和String，相当于序列，用length。</p>
<p><strong>toArray</strong></p>
<p>将Collection转为array：</p>
<p>①无入参：</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="p">...;</span> <span class="c1">// suppose you have 15 elements in that collection</span>

<span class="n">String</span><span class="o">[]</span> <span class="n">tabString1</span> <span class="o">=</span> <span class="n">strings</span><span class="p">.</span><span class="na">toArray</span><span class="p">(</span><span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="p">{});</span> <span class="c1">// you can pass an empty array</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">tabString2</span> <span class="o">=</span> <span class="n">strings</span><span class="p">.</span><span class="na">toArray</span><span class="p">(</span><span class="k">new</span> <span class="n">String</span><span class="o">[</span><span class="mi">15</span><span class="o">]</span><span class="p">);</span>   <span class="c1">// or an array of the right size</span>
</pre></div>
</div>
<p>②传参</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">);</span>

<span class="n">String</span><span class="o">[]</span> <span class="n">largerTab</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;three&quot;</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">,</span> <span class="s">&quot;I&quot;</span><span class="p">,</span> <span class="s">&quot;was&quot;</span><span class="p">,</span> <span class="s">&quot;there&quot;</span><span class="p">};</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;largerTab = &quot;</span> <span class="o">+</span> <span class="n">Arrays</span><span class="p">.</span><span class="na">toString</span><span class="p">(</span><span class="n">largerTab</span><span class="p">));</span>

<span class="n">String</span><span class="o">[]</span> <span class="n">result</span> <span class="o">=</span> <span class="n">strings</span><span class="p">.</span><span class="na">toArray</span><span class="p">(</span><span class="n">largerTab</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;result = &quot;</span> <span class="o">+</span> <span class="n">Arrays</span><span class="p">.</span><span class="na">toString</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>

<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Same arrays? &quot;</span> <span class="o">+</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="n">largerTab</span><span class="p">));</span>
</pre></div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">);</span>

<span class="n">String</span><span class="o">[]</span> <span class="n">zeroLengthTab</span> <span class="o">=</span> <span class="p">{};</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">result</span> <span class="o">=</span> <span class="n">strings</span><span class="p">.</span><span class="na">toArray</span><span class="p">(</span><span class="n">zeroLengthTab</span><span class="p">);</span>

<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;zeroLengthTab = &quot;</span> <span class="o">+</span> <span class="n">Arrays</span><span class="p">.</span><span class="na">toString</span><span class="p">(</span><span class="n">zeroLengthTab</span><span class="p">));</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;result = &quot;</span> <span class="o">+</span> <span class="n">Arrays</span><span class="p">.</span><span class="na">toString</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
</pre></div>
</div>
<p>③简写</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="p">...;</span>

<span class="n">String</span><span class="o">[]</span> <span class="n">tabString3</span> <span class="o">=</span> <span class="n">strings</span><span class="p">.</span><span class="na">toArray</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="p">::</span><span class="k">new</span><span class="p">);</span>
</pre></div>
</div>
<p>Predicate + removeIf 实现有条件的删除，比如删除null和empty的元素：</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Predicate</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">isNull</span> <span class="o">=</span> <span class="n">Objects</span><span class="p">::</span><span class="n">isNull</span><span class="p">;</span>
<span class="n">Predicate</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">isEmpty</span> <span class="o">=</span> <span class="n">String</span><span class="p">::</span><span class="n">isEmpty</span><span class="p">;</span>
<span class="n">Predicate</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">isNullOrEmpty</span> <span class="o">=</span> <span class="n">isNull</span><span class="p">.</span><span class="na">or</span><span class="p">(</span><span class="n">isEmpty</span><span class="p">);</span>

<span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;two&quot;</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;three&quot;</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;strings = &quot;</span> <span class="o">+</span> <span class="n">strings</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">removeIf</span><span class="p">(</span><span class="n">isNullOrEmpty</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;filtered strings = &quot;</span> <span class="o">+</span> <span class="n">strings</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="iterating">
<h2>Iterating<a class="headerlink" href="#iterating" title="Permalink to this headline">¶</a></h2>
<p>for-each</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">);</span>

<span class="k">for</span> <span class="p">(</span><span class="n">String</span> <span class="n">element</span><span class="p">:</span> <span class="n">strings</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">string</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Iterator</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">,</span> <span class="s">&quot;four&quot;</span><span class="p">);</span>
<span class="k">for</span> <span class="p">(</span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">iterator</span> <span class="o">=</span> <span class="n">strings</span><span class="p">.</span><span class="na">iterator</span><span class="p">();</span> <span class="n">iterator</span><span class="p">.</span><span class="na">hasNext</span><span class="p">();)</span> <span class="p">{</span>
    <span class="n">String</span> <span class="n">element</span> <span class="o">=</span> <span class="n">iterator</span><span class="p">.</span><span class="na">next</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">element</span><span class="p">.</span><span class="na">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">element</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="list">
<h2>List<a class="headerlink" href="#list" title="Permalink to this headline">¶</a></h2>
<p>the List interface has 2: ArrayList and LinkedList. As you may guess,
the first one is built on an internal array, and the second on a
doubly-linked list.</p>
<p><strong>Iterating</strong> over the elements of an ArrayList is much faster that over
the elements of a LinkedList. There are still cases where a linked list
is faster than an array. A doubly-linked list can access its <strong>first and
last element</strong> faster than an ArrayList can. This is the main use case
that makes LinkedList better than ArrayList. So if your application
needs a Last In, First Out (<strong>LIFO</strong>, covered later in this tutorial)
stack, or a First In, First Out (<strong>FIFO</strong>, also covered later) waiting
<strong>queue</strong>, then choosing a linked list is probably your best choice.</p>
<p>注意，链表在插入和删除的速度优势已经不在，因为现代硬件、CPU缓存和指针追踪已经很强大。</p>
<p><strong>index</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">`add(index,</span> <span class="pre">element)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#add(int,E)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#add(int,E)</a>&gt;`__:
inserts the given object at the <code class="docutils literal notranslate"><span class="pre">index</span></code>, adjusting the index if
there are remaining elements</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`get(index)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#get(int)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#get(int)</a>&gt;`__:
returns the object at the given <code class="docutils literal notranslate"><span class="pre">index</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`set(index,</span> <span class="pre">element)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#set(int,E)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#set(int,E)</a>&gt;`__:
replaces the element at the given index with the new element</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`remove(index)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#remove(int)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#remove(int)</a>&gt;`__:
removes the element at the given <code class="docutils literal notranslate"><span class="pre">index</span></code>, adjusting the index of
the remaining elements.</p></li>
</ul>
<p>The
methods <code class="docutils literal notranslate"><span class="pre">`indexOf(element)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#indexOf(java.lang.Object)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#indexOf(java.lang.Object)</a>&gt;`__ and <code class="docutils literal notranslate"><span class="pre">`lastIndexOf(element)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#lastIndexOf(java.lang.Object)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#lastIndexOf(java.lang.Object)</a>&gt;`__ return
the index of the given element in the list, or -1 if the element is not
found.</p>
<p>subList：</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;0&quot;</span><span class="p">,</span> <span class="s">&quot;1&quot;</span><span class="p">,</span> <span class="s">&quot;2&quot;</span><span class="p">,</span> <span class="s">&quot;3&quot;</span><span class="p">,</span> <span class="s">&quot;4&quot;</span><span class="p">,</span> <span class="s">&quot;5&quot;</span><span class="p">));</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">strings</span><span class="p">);</span>
<span class="n">strings</span><span class="p">.</span><span class="na">subList</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">).</span><span class="na">clear</span><span class="p">();</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">strings</span><span class="p">);</span>
</pre></div>
</div>
<p> <code class="docutils literal notranslate"><span class="pre">`addAll(int</span> <span class="pre">index,</span> <span class="pre">Collection</span> <span class="pre">collection)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#addAll(int,java.util.Collection)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#addAll(int,java.util.Collection)</a>&gt;`__</p>
<p><strong>ListIterator</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">`ListIterator</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html</a>&gt;`__ interface
extends the
regular <code class="docutils literal notranslate"><span class="pre">`Iterator</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html</a>&gt;`__ that
you already know. It adds several methods to it.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">`hasPrevious()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#hasPrevious()">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#hasPrevious()</a>&gt;`__ and <code class="docutils literal notranslate"><span class="pre">`previous()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#previous()">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#previous()</a>&gt;`__:
to iterate in the descending order rather than the ascending order</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`nextIndex()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#nextIndex()">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#nextIndex()</a>&gt;`__ and <code class="docutils literal notranslate"><span class="pre">`previousIndex()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#previousIndex()">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#previousIndex()</a>&gt;`__:
to get the index of the element that will be returned by the
next <code class="docutils literal notranslate"><span class="pre">`next()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#next()">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#next()</a>&gt;`__ call,
or the
next <code class="docutils literal notranslate"><span class="pre">`previous()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#previous()">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#previous()</a>&gt;`__ call</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`set(element)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#set(E)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#set(E)</a>&gt;`__:
to update the last element returned
by <code class="docutils literal notranslate"><span class="pre">`next()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#next()">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#next()</a>&gt;`__ or <code class="docutils literal notranslate"><span class="pre">`previous()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#previous()">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#previous()</a>&gt;`__.
If neither of these methods have been called on this iterator then
an <code class="docutils literal notranslate"><span class="pre">`IllegalStateException</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/IllegalStateException.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/IllegalStateException.html</a>&gt;`__ is
raised.</p></li>
</ul>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">numbers</span> <span class="o">=</span> <span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">);</span>
<span class="k">for</span> <span class="p">(</span><span class="n">ListIterator</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">iterator</span> <span class="o">=</span> <span class="n">numbers</span><span class="p">.</span><span class="na">listIterator</span><span class="p">();</span> <span class="n">iterator</span><span class="p">.</span><span class="na">hasNext</span><span class="p">();)</span> <span class="p">{</span>
    <span class="n">String</span> <span class="n">nextElement</span> <span class="o">=</span> <span class="n">iterator</span><span class="p">.</span><span class="na">next</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">Objects</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">nextElement</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">))</span> <span class="p">{</span>
        <span class="n">iterator</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&quot;2&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;numbers = &quot;</span> <span class="o">+</span> <span class="n">numbers</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="set">
<h2>Set<a class="headerlink" href="#set" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">`Set</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html</a>&gt;`__ interface
does not bring any new method to
the <code class="docutils literal notranslate"><span class="pre">`Collection</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html</a>&gt;`__ interface.
The Collections Framework gives you one plain implementation of
the <code class="docutils literal notranslate"><span class="pre">`Set</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html</a>&gt;`__ interface: <code class="docutils literal notranslate"><span class="pre">`HashSet</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/HashSet.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/HashSet.html</a>&gt;`__.
<strong>Internally,
a **```HashSet`` &lt;https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/HashSet.html&gt;`__** wraps
an instance
of **```HashMap`` &lt;https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/HashMap.html&gt;`__**.</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">,</span> <span class="s">&quot;four&quot;</span><span class="p">,</span> <span class="s">&quot;five&quot;</span><span class="p">,</span> <span class="s">&quot;six&quot;</span><span class="p">);</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashSet</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">set</span><span class="p">.</span><span class="na">addAll</span><span class="p">(</span><span class="n">strings</span><span class="p">);</span>
<span class="n">set</span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">`SortedSet</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/SortedSet.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/SortedSet.html</a>&gt;`__ interface
adds new methods
to <code class="docutils literal notranslate"><span class="pre">`Set</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html</a>&gt;`__.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">`first()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/TreeSet.html#first()">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/TreeSet.html#first()</a>&gt;`__ and <code class="docutils literal notranslate"><span class="pre">`last()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/TreeSet.html#last()">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/TreeSet.html#last()</a>&gt;`__ returns
the lowest and the largest elements of the set</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`headSet(toElement)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/TreeSet.html#headSet(E)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/TreeSet.html#headSet(E)</a>&gt;`__ and <code class="docutils literal notranslate"><span class="pre">`tailSet(fromElement)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/TreeSet.html#tailSet(E)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/TreeSet.html#tailSet(E)</a>&gt;`__ returns
you subsets containing the elements lower than <code class="docutils literal notranslate"><span class="pre">toElement</span></code> or
greater than <code class="docutils literal notranslate"><span class="pre">fromElement</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`subSet(fromElement,</span> <span class="pre">toElement)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/TreeSet.html#subSet(E,E)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/TreeSet.html#subSet(E,E)</a>&gt;`__ gives
you a subset of the element
between <code class="docutils literal notranslate"><span class="pre">fromElement</span></code> and <code class="docutils literal notranslate"><span class="pre">toElement</span></code>.</p></li>
</ul>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">SortedSet</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TreeSet</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">Set</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">,</span> <span class="s">&quot;c&quot;</span><span class="p">,</span> <span class="s">&quot;d&quot;</span><span class="p">,</span> <span class="s">&quot;e&quot;</span><span class="p">,</span> <span class="s">&quot;f&quot;</span><span class="p">));</span>
<span class="n">SortedSet</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">subSet</span> <span class="o">=</span> <span class="n">strings</span><span class="p">.</span><span class="na">subSet</span><span class="p">(</span><span class="s">&quot;aa&quot;</span><span class="p">,</span> <span class="s">&quot;d&quot;</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;sub set = &quot;</span> <span class="o">+</span> <span class="n">subSet</span><span class="p">);</span>
</pre></div>
</div>
<p>注意，subSet仅仅相当于视图。No copy is made, meaning that any change you
make to these subsets will be reflected in the set, and the other way
round.</p>
<p><code class="docutils literal notranslate"><span class="pre">`NavigableSet</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html</a>&gt;`__</p>
<p>Some methods are overloaded
by <code class="docutils literal notranslate"><span class="pre">`NavigableSet</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html</a>&gt;`__.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">`headSet()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#headSet(E)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#headSet(E)</a>&gt;`__, <code class="docutils literal notranslate"><span class="pre">`headSet()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#tailSet(E)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#tailSet(E)</a>&gt;`__,
and <code class="docutils literal notranslate"><span class="pre">`headSet()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#subSet(E)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#subSet(E)</a>&gt;`__ may
take a further <code class="docutils literal notranslate"><span class="pre">boolean</span></code> arguments to specify whether the limits
(<code class="docutils literal notranslate"><span class="pre">toElement</span></code> or <code class="docutils literal notranslate"><span class="pre">fromElement</span></code>) are to be included in the
resulting subset.</p></li>
</ul>
<p>Other methods have been added.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">`ceiling(element)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#ceiling(E)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#ceiling(E)</a>&gt;`__,
and <code class="docutils literal notranslate"><span class="pre">`floor(element)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#floor(E)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#floor(E)</a>&gt;`__ return
the greatest element lesser or equal than, or the lowest element
greater or equal than the provided <code class="docutils literal notranslate"><span class="pre">element</span></code>. If there is no such
element then <code class="docutils literal notranslate"><span class="pre">null</span></code> is returned</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`floor(element)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#lower(E)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#lower(E)</a>&gt;`__,
and <code class="docutils literal notranslate"><span class="pre">`higher(element)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#higher(E)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#higher(E)</a>&gt;`__ return
the greater element lesser than, or the lowest element greater than
the provided <code class="docutils literal notranslate"><span class="pre">element</span></code>. If there is no such element
then <code class="docutils literal notranslate"><span class="pre">null</span></code> is returned.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`pollFirst()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#pollFirst()">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#pollFirst()</a>&gt;`__,
and <code class="docutils literal notranslate"><span class="pre">`pollLast()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#pollLast()">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#pollLast()</a>&gt;`__ return
and removes the lowest or the greatest element of the set.</p></li>
</ul>
<p>Furthermore, <code class="docutils literal notranslate"><span class="pre">`NavigableSet</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html</a>&gt;`__ also
allows you to iterate over its elements in descending order. There are
two ways to do this.</p>
<ul class="simple">
<li><p>You can
call <code class="docutils literal notranslate"><span class="pre">`descendingIterator()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#descendingIterator()">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#descendingIterator()</a>&gt;`__:
it gives you a
regular <code class="docutils literal notranslate"><span class="pre">`Iterator</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html</a>&gt;`__ that
traverses the set in the descending order.</p></li>
<li><p>You can also
call <code class="docutils literal notranslate"><span class="pre">`descendingSet()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#descendingSet()">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html#descendingSet()</a>&gt;`__.
What you get in return is
another <code class="docutils literal notranslate"><span class="pre">`NavigableSet</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html</a>&gt;`__ that
is a view on this set and that makes you think you have the same set,
sorted in the reversed order.</p></li>
</ul>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">NavigableSet</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">sortedStrings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TreeSet</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">Set</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">,</span> <span class="s">&quot;c&quot;</span><span class="p">,</span> <span class="s">&quot;d&quot;</span><span class="p">,</span> <span class="s">&quot;e&quot;</span><span class="p">,</span> <span class="s">&quot;f&quot;</span><span class="p">));</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;sorted strings = &quot;</span> <span class="o">+</span> <span class="n">sortedStrings</span><span class="p">);</span>
<span class="n">NavigableSet</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">reversedStrings</span> <span class="o">=</span> <span class="n">sortedStrings</span><span class="p">.</span><span class="na">descendingSet</span><span class="p">();</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;reversed strings = &quot;</span> <span class="o">+</span> <span class="n">reversedStrings</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="factory-methods">
<h2>Factory Methods<a class="headerlink" href="#factory-methods" title="Permalink to this headline">¶</a></h2>
<p>Java SE 9</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">stringList</span> <span class="o">=</span> <span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">);</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">stringSet</span> <span class="o">=</span> <span class="n">Set</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Java SE 10</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">);</span>

<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">List</span><span class="p">.</span><span class="na">copyOf</span><span class="p">(</span><span class="n">strings</span><span class="p">);</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="n">Set</span><span class="p">.</span><span class="na">copyOf</span><span class="p">(</span><span class="n">strings</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>Arrays</strong></p>
<p><strong>The Collections Framework has a class</strong>
called <code class="docutils literal notranslate"><span class="pre">`Arrays</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html</a>&gt;`__ with
about 200 methods to handle arrays. Most of them are implementing
various algorithms on arrays, like sorting, merging, searching.</p>
<p><strong>Collections</strong></p>
<p>The Collections Framework comes with another factory
class: <code class="docutils literal notranslate"><span class="pre">`Collections</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html</a>&gt;`__,
with a set of method to manipulate collections and their content.</p>
<p><strong>Finding a Sublist in a List</strong></p>
<p>Two methods locate a given sublist in a bigger list:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">`indexOfSublist(List&lt;?&gt;</span> <span class="pre">source,</span> <span class="pre">List&lt;?&gt;</span> <span class="pre">target)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#indexOfSubList(java.util.List,java.util.List)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#indexOfSubList(java.util.List,java.util.List)</a>&gt;`__:
returns the first index of the first element of the <code class="docutils literal notranslate"><span class="pre">target</span></code> list
in the <code class="docutils literal notranslate"><span class="pre">source</span></code> list, or -1 if it does not exist;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`lastIndexOfSublist(List&lt;?&gt;</span> <span class="pre">source,</span> <span class="pre">List&lt;?&gt;</span> <span class="pre">target)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#lastIndexOfSubList(java.util.List,java.util.List)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#lastIndexOfSubList(java.util.List,java.util.List)</a>&gt;`__:
return the last of these indexes.</p></li>
</ul>
<p><strong>Changing the Order of the Elements of a List</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">`sort()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#sort(java.util.List)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#sort(java.util.List)</a>&gt;`__ sorts
the list in place. This method may take a comparator as an argument.
As usual, if no comparator is provided, then the elements of the list
must be comparable. If a comparator is provided, then it will be used
to compare the elements. Starting with Java SE 8, you should favor
the <code class="docutils literal notranslate"><span class="pre">`sort()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#sort(java.util.Comparator)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#sort(java.util.Comparator)</a>&gt;`__ method
from
the <code class="docutils literal notranslate"><span class="pre">`List</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html</a>&gt;`__interface.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`shuffle()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#shuffle(java.util.List)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#shuffle(java.util.List)</a>&gt;`__ randomly
shuffles the elements of the provided list. You can provide yout
instance
of <code class="docutils literal notranslate"><span class="pre">`Random</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Random.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Random.html</a>&gt;`__ if
you need a random shuffling that you can repeat.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`rotate()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#rotate(java.util.List,int)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#rotate(java.util.List,int)</a>&gt;`__ rotates
the elements of the list. After a rotation the element at index 0
will be found at index 1 and so on. The last elements will be moved
to the first place of the list. You can
combine <code class="docutils literal notranslate"><span class="pre">`subList()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#subList(int,int)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#subList(int,int)</a>&gt;`__ and <code class="docutils literal notranslate"><span class="pre">`rotate()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#rotate(java.util.List,int)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#rotate(java.util.List,int)</a>&gt;`__ to
remove an element at a given index and to insert it in another place
in the list.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`reverse()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#reverse(java.util.List)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#reverse(java.util.List)</a>&gt;`__:
reverse the order of the elements of the list.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`swap()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#swap(java.util.List,int,int)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#swap(java.util.List,int,int)</a>&gt;`__:
swaps two elements from the list. This method can take a list as an
argument, as well as a plain array.</p></li>
</ul>
</div>
<div class="section" id="stacks-and-queues">
<h2>Stacks and Queues<a class="headerlink" href="#stacks-and-queues" title="Permalink to this headline">¶</a></h2>
<p><img alt="image3" src="../_images/2023-06-30-12-40-05-image.png" /></p>
<p>Stacks are also called LIFO stacks, where LIFO stands for Last In, First
Out. Queues are known as FIFO: First In First Out.</p>
<p>These structures are very simple and gives you three main operations.</p>
<ul class="simple">
<li><p><em>push(element)</em>: adds an element to the queue, or the stack</p></li>
<li><p><em>pop()</em>: removes an element from the stack, that is, the youngest
element added</p></li>
<li><p><em>poll()</em>: removes an element from the queue, that is, the oldest
element added</p></li>
<li><p><em>peek()</em>: allows you to see the element you will get with
a <em>pop()</em> or a <em>poll()</em>, but without removing it from the queue of
the stack.</p></li>
</ul>
<p><strong>Queues and Stacks</strong></p>
<ul class="simple">
<li><p>the <code class="docutils literal notranslate"><span class="pre">`Queue</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Queue.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Queue.html</a>&gt;`__ interface
models a queue;</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">`Deque</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Deque.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Deque.html</a>&gt;`__ interface
models a <strong>double ended queue</strong> (thus the name). You can push, pop,
poll and peek elements on both the tail and the head of
a <code class="docutils literal notranslate"><span class="pre">`Deque</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Deque.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Deque.html</a>&gt;`__,
making it both a <strong>queue and a stack</strong>.</p></li>
</ul>
<p>Collection没有Stack接口，栈是通过Deque来定义的。</p>
<p><strong>Implementing Queue and Deque</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">`ArrayDeque</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ArrayDeque.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ArrayDeque.html</a>&gt;`__:
which implements both. This implementation is backed by an array. The
capacity of this class automatically grows as elements are added. So
this implementation always accepts new elements.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`LinkedList</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/LinkedList.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/LinkedList.html</a>&gt;`__:
which also implements both. This implementation is backed by a linked
list, making the access to its first and last element very efficient.
A <code class="docutils literal notranslate"><span class="pre">`LinkedList</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/LinkedList.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/LinkedList.html</a>&gt;`__ will
always accept new elements.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`PriorityQueue</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/PriorityQueue.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/PriorityQueue.html</a>&gt;`__:
that only
implements <code class="docutils literal notranslate"><span class="pre">`Queue</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Queue.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Queue.html</a>&gt;`__.
This queue is backed by an array that keeps its elements sorted by
their natural order or by an order specified by
a <code class="docutils literal notranslate"><span class="pre">`Comparator</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Comparator.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Comparator.html</a>&gt;`__.
The head of this queue is always the least element of the queue with
respect to the specified ordering. The capacity of this class
automatically grows as elements are added.</p></li>
</ul>
</div>
<div class="section" id="maps">
<h2>Maps<a class="headerlink" href="#maps" title="Permalink to this headline">¶</a></h2>
<p><img alt="image4" src="../_images/2023-06-30-17-27-49-image.png" /></p>
<p>implementations：</p>
<ul>
<li><p>HashMap</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`LinkedHashMap</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/LinkedHashMap.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/LinkedHashMap.html</a>&gt;`__ is
a <code class="docutils literal notranslate"><span class="pre">`HashMap</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/HashMap.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/HashMap.html</a>&gt;`__ with
an internal structure to keep the key-value pairs ordered. Iterating
on the keys or the key-value pairs will follow the order in which you
have added your key-value pairs.</p>
<p>这里注意，HashMap是无序的，LinkedHashMap是有序的。</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">`IdentityHashMap</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/IdentityHashMap.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/IdentityHashMap.html</a>&gt;`__ is
a
specialized <code class="docutils literal notranslate"><span class="pre">`Map</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html</a>&gt;`__ that
you should only be used in very precise cases. This implementation is
not meant to be generally used in application. Instead of
using <code class="docutils literal notranslate"><span class="pre">`equals()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)</a>&gt;`__ and <code class="docutils literal notranslate"><span class="pre">`hashCode()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#hashCode()">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#hashCode()</a>&gt;`__ to
compare the key objects, this implementation only compares the
references to these keys, with an equality operator (<code class="docutils literal notranslate"><span class="pre">==</span></code>). Use it
with caution, only if you are sure this is what you need.</p></li>
</ul>
<p>Java SE 9</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span>
    <span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">(</span>
        <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;one&quot;</span><span class="p">,</span>
        <span class="mi">2</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">,</span>
        <span class="mi">3</span><span class="p">,</span> <span class="s">&quot;three&quot;</span>
    <span class="p">);</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">`Map</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html</a>&gt;`__ defines
a member
interface: <code class="docutils literal notranslate"><span class="pre">`Map.Entry</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.Entry.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.Entry.html</a>&gt;`__ to
model a key-value pair. This interface defines three methods to access
the key and the values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">`getKey()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.Entry.html#getKey()">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.Entry.html#getKey()</a>&gt;`__:
to read the key;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`getValue()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.Entry.html#getValue()">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.Entry.html#getValue()</a>&gt;`__ and <code class="docutils literal notranslate"><span class="pre">`setValue(value)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.Entry.html#setValue(V)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.Entry.html#setValue(V)</a>&gt;`__:
to read and update the value bound to that key.</p></li>
</ul>
<p><strong>putIfAbsent()</strong>，如果是null，会替换为默认值：</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="n">String</span> <span class="n">key</span> <span class="p">:</span> <span class="n">map</span><span class="p">.</span><span class="na">keySet</span><span class="p">())</span> <span class="p">{</span>
    <span class="n">map</span><span class="p">.</span><span class="na">putIfAbsent</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>如果value是null，可能会报错，比如：</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>

<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;two&quot;</span><span class="p">,</span> <span class="kc">null</span><span class="p">);</span>
<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;three&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;four&quot;</span><span class="p">,</span> <span class="kc">null</span><span class="p">);</span>
<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;five&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>

<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">value</span> <span class="p">:</span> <span class="n">map</span><span class="p">.</span><span class="na">values</span><span class="p">())</span> <span class="p">{</span>  <span class="c1">// 这里是int</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;value = &quot;</span> <span class="o">+</span> <span class="n">value</span><span class="p">);</span>  <span class="c1">// Integer拆包为int时会报NPE</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>getOrDefault()</strong>，如果没有key，返回默认值：</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>

<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&quot;one&quot;</span><span class="p">);</span>
<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">);</span>
<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">);</span>

<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">values</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">values</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">map</span><span class="p">.</span><span class="na">getOrDefault</span><span class="p">(</span><span class="n">key</span><span class="p">,</span><span class="s">&quot;UNDEFINED&quot;</span><span class="p">));</span>
<span class="p">}</span>

<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;values = &quot;</span> <span class="o">+</span> <span class="n">values</span><span class="p">);</span>
</pre></div>
</div>
<p>流式写法：</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">values</span> <span class="o">=</span>
    <span class="n">IntStream</span><span class="p">.</span><span class="na">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="p">.</span><span class="na">mapToObj</span><span class="p">(</span><span class="n">key</span> <span class="o">-&gt;</span> <span class="n">map</span><span class="p">.</span><span class="na">getOrDefault</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s">&quot;UNDEFINED&quot;</span><span class="p">))</span>
        <span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">());</span>

<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;values = &quot;</span> <span class="o">+</span> <span class="n">values</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>remove(key)</strong>，remove后返回value，可能为null。</p>
<p><strong>remove(key,
value)</strong>，remove时先判断value存在才移除，返回boolean，<code class="docutils literal notranslate"><span class="pre">true</span></code> if
the key/value pair was removed from the map。</p>
<p><strong>containsKey(key) and containsValue(value)</strong> Both methods return true
if the map contains the given key or value.</p>
<p><strong>putAll(otherMap)</strong> If some keys are present in both maps, then the
values of otherMap will erase those of this map.（并集）</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">`keySet()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html#keySet()">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html#keySet()</a>&gt;`__:
returns an instance
of <code class="docutils literal notranslate"><span class="pre">`Set</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html</a>&gt;`__,
containing the keys defined in the map</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`entrySet()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html#entrySet()">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html#entrySet()</a>&gt;`__:
returns an instance
of <code class="docutils literal notranslate"><span class="pre">`Set&lt;Map.Entry&gt;</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html</a>&gt;`__,
containing the key/value pairs contained in the map</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`values()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html#values()">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html#values()</a>&gt;`__:
returns an instance
of <code class="docutils literal notranslate"><span class="pre">`Collection</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html</a>&gt;`__,
containing the values present in the map.</p></li>
</ul>
<p>遍历推荐使用以下方式：</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">entry</span> <span class="p">:</span> <span class="n">map</span><span class="p">.</span><span class="na">entrySet</span><span class="p">())</span> <span class="p">{</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;entry = &quot;</span> <span class="o">+</span> <span class="n">entry</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Lambda Expressions</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&quot;one&quot;</span><span class="p">);</span>
<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">);</span>
<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">);</span>

<span class="n">map</span><span class="p">.</span><span class="na">forEach</span><span class="p">((</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">key</span> <span class="o">+</span> <span class="s">&quot; :: &quot;</span> <span class="o">+</span> <span class="n">value</span><span class="p">));</span>
</pre></div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>

<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&quot;one&quot;</span><span class="p">);</span>
<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">);</span>
<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">);</span>

<span class="n">map</span><span class="p">.</span><span class="na">replaceAll</span><span class="p">((</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">value</span><span class="p">.</span><span class="na">toUpperCase</span><span class="p">());</span>
<span class="n">map</span><span class="p">.</span><span class="na">forEach</span><span class="p">((</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">key</span> <span class="o">+</span> <span class="s">&quot; :: &quot;</span> <span class="o">+</span> <span class="n">value</span><span class="p">));</span>
</pre></div>
</div>
<p><strong>compute</strong></p>
<p>The
<code class="docutils literal notranslate"><span class="pre">`put()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html#put(K,V)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html#put(K,V)</a>&gt;`__
methods return the previous value, whereas the
<code class="docutils literal notranslate"><span class="pre">`compute()</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html#compute(K,java.util.function.BiFunction)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html#compute(K,java.util.function.BiFunction)</a>&gt;`__
methods return the new value.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">,</span> <span class="s">&quot;four&quot;</span><span class="p">,</span> <span class="s">&quot;five&quot;</span><span class="p">,</span> <span class="s">&quot;six&quot;</span><span class="p">,</span> <span class="s">&quot;seven&quot;</span><span class="p">);</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="k">for</span> <span class="p">(</span><span class="n">String</span> <span class="n">word</span><span class="p">:</span> <span class="n">strings</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">length</span> <span class="o">=</span> <span class="n">word</span><span class="p">.</span><span class="na">length</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">map</span><span class="p">.</span><span class="na">containsKey</span><span class="p">(</span><span class="n">length</span><span class="p">))</span> <span class="p">{</span>
        <span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">());</span>
    <span class="p">}</span>
    <span class="n">map</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">length</span><span class="p">).</span><span class="na">add</span><span class="p">(</span><span class="n">word</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">map</span><span class="p">.</span><span class="na">forEach</span><span class="p">((</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">key</span> <span class="o">+</span> <span class="s">&quot; :: &quot;</span> <span class="o">+</span> <span class="n">value</span><span class="p">));</span>
</pre></div>
</div>
<p>使用putIfAbsent优化：</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="n">String</span> <span class="n">word</span><span class="p">:</span> <span class="n">strings</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">length</span> <span class="o">=</span> <span class="n">word</span><span class="p">.</span><span class="na">length</span><span class="p">();</span>
    <span class="n">map</span><span class="p">.</span><span class="na">putIfAbsent</span><span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">());</span>
    <span class="n">map</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">length</span><span class="p">).</span><span class="na">add</span><span class="p">(</span><span class="n">word</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>使用computeIfAbsent优化：</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="n">String</span> <span class="n">word</span><span class="p">:</span> <span class="n">strings</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">length</span> <span class="o">=</span> <span class="n">word</span><span class="p">.</span><span class="na">length</span><span class="p">();</span>
    <span class="n">map</span><span class="p">.</span><span class="na">computeIfAbsent</span><span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="n">key</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">())</span>
       <span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">word</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>merge</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">,</span> <span class="s">&quot;four&quot;</span><span class="p">,</span> <span class="s">&quot;five&quot;</span><span class="p">,</span> <span class="s">&quot;six&quot;</span><span class="p">,</span> <span class="s">&quot;seven&quot;</span><span class="p">);</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="k">for</span> <span class="p">(</span><span class="n">String</span> <span class="n">word</span><span class="p">:</span> <span class="n">strings</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">length</span> <span class="o">=</span> <span class="n">word</span><span class="p">.</span><span class="na">length</span><span class="p">();</span>
    <span class="n">map</span><span class="p">.</span><span class="na">merge</span><span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span>
              <span class="p">(</span><span class="n">existingValue</span><span class="p">,</span> <span class="n">newWord</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">existingValue</span> <span class="o">+</span> <span class="s">&quot;, &quot;</span> <span class="o">+</span> <span class="n">newWord</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">map</span><span class="p">.</span><span class="na">forEach</span><span class="p">((</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">key</span> <span class="o">+</span> <span class="s">&quot; :: &quot;</span> <span class="o">+</span> <span class="n">value</span><span class="p">));</span>
</pre></div>
</div>
<p><strong>SortedMap and NavigableMap</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">SortedMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TreeMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&quot;one&quot;</span><span class="p">);</span>
<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">);</span>
<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">&quot;three&quot;</span><span class="p">);</span>
<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="s">&quot;five&quot;</span><span class="p">);</span>
<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="s">&quot;six&quot;</span><span class="p">);</span>

<span class="n">SortedMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">headMap</span> <span class="o">=</span> <span class="n">map</span><span class="p">.</span><span class="na">headMap</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="n">headMap</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&quot;zero&quot;</span><span class="p">);</span> <span class="c1">// this line is ok</span>
<span class="n">headMap</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s">&quot;four&quot;</span><span class="p">);</span> <span class="c1">// this line throws an IllegalArgumentException</span>
</pre></div>
</div>
<p>Here is the code of the
<code class="docutils literal notranslate"><span class="pre">`add(element)</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/HashSet.html#add(E)">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/HashSet.html#add(E)</a>&gt;`__
of the
<code class="docutils literal notranslate"><span class="pre">`HashSet</span></code> &lt;<a class="reference external" href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/HashSet.html">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/HashSet.html</a>&gt;`__
class:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">private</span> <span class="kd">transient</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">E</span><span class="p">,</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">map</span><span class="p">;</span>
<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Object</span> <span class="n">PRESENT</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Object</span><span class="p">();</span>

<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">add</span><span class="p">(</span><span class="n">E</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">PRESENT</span><span class="p">)</span><span class="o">==</span><span class="kc">null</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>What you can see is that in fact, <strong>a hashset stores your object in a
hashmap</strong> (the <code class="docutils literal notranslate"><span class="pre">transient</span></code> keyword is not relevant). Your objects are
the keys of this hashmap, and the value is just a placeholder, an object
with no significance.</p>
<p>hashset
是用hashmap来存的，所以最好不要更新hashset的值（也就是hashmap的key），否则会有意想不到的Bug。</p>
<blockquote>
<div><p>参考资料：</p>
<p>The Collections Framework
<a class="reference external" href="https://dev.java/learn/api/collections-framework/">https://dev.java/learn/api/collections-framework/</a></p>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="002014-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B014%E6%B5%81.html" class="btn btn-neutral float-right" title="【官方】Java官方笔记14流" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="002012-%E3%80%90%E5%AE%98%E6%96%B9%E3%80%91Java%E5%AE%98%E6%96%B9%E7%AC%94%E8%AE%B012%E5%BC%82%E5%B8%B8.html" class="btn btn-neutral float-left" title="【官方】Java官方笔记12异常" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 测试开发Gang

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>